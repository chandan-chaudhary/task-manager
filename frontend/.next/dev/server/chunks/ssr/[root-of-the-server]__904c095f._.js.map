{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/chandan/Documents/task-manager/frontend/components/ui/sonner.tsx"],"sourcesContent":["\"use client\"\n\nimport { useTheme } from \"next-themes\"\nimport { Toaster as Sonner } from \"sonner\"\n\ntype ToasterProps = React.ComponentProps<typeof Sonner>\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = \"system\" } = useTheme()\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps[\"theme\"]}\n      className=\"toaster group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n          description: \"group-[.toast]:text-muted-foreground\",\n          actionButton:\n            \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n          cancelButton:\n            \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n        },\n      }}\n      {...props}\n    />\n  )\n}\n\nexport { Toaster }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAOA,MAAM,UAAU,CAAC,EAAE,GAAG,OAAqB;IACzC,MAAM,EAAE,QAAQ,QAAQ,EAAE,GAAG,IAAA,4JAAQ;IAErC,qBACE,8OAAC,mJAAM;QACL,OAAO;QACP,WAAU;QACV,cAAc;YACZ,YAAY;gBACV,OACE;gBACF,aAAa;gBACb,cACE;gBACF,cACE;YACJ;QACF;QACC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/chandan/Documents/task-manager/frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///home/chandan/Documents/task-manager/frontend/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst TooltipProvider = TooltipPrimitive.Provider;\n\nconst Tooltip = TooltipPrimitive.Root;\n\nconst TooltipTrigger = TooltipPrimitive.Trigger;\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Portal>\n    <TooltipPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </TooltipPrimitive.Portal>\n));\nTooltipContent.displayName = TooltipPrimitive.Content.displayName;\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,kBAAkB,+KAAyB;AAEjD,MAAM,UAAU,2KAAqB;AAErC,MAAM,iBAAiB,8KAAwB;AAE/C,MAAM,+BAAiB,mNAAgB,CAGrC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,8OAAC,6KAAuB;kBACtB,cAAA,8OAAC,8KAAwB;YACvB,KAAK;YACL,YAAY;YACZ,WAAW,IAAA,kHAAE,EACX,uaACA;YAED,GAAG,KAAK;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,8KAAwB,CAAC,WAAW"}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///home/chandan/Documents/task-manager/frontend/types/index.ts"],"sourcesContent":["/**\n * Core type definitions for the Task Manager application.\n * These types mirror the backend models for type safety across the stack.\n */\n\n/** Priority levels for tasks */\nexport type Priority = \"Low\" | \"Medium\" | \"High\" | \"Urgent\";\n\n/** Status stages for task workflow */\nexport type TaskStatus = \"To Do\" | \"In Progress\" | \"Review\" | \"Completed\";\n\n/** Task Status Enum for backend mapping */\nexport enum TaskStatusEnum {\n  TODO = \"To Do\",\n  IN_PROGRESS = \"In Progress\",\n  REVIEW = \"Review\",\n  COMPLETED = \"Completed\",\n}\n\n/** Priority Enum for backend mapping */\nexport enum PriorityEnum {\n  LOW = \"Low\",\n  MEDIUM = \"Medium\",\n  HIGH = \"High\",\n  URGENT = \"Urgent\",\n}\n\n/** Get enum key from value */\nexport function getTaskStatusKey(value: TaskStatus): string {\n  return (\n    Object.keys(TaskStatusEnum).find(\n      (key) => TaskStatusEnum[key as keyof typeof TaskStatusEnum] === value\n    ) || \"TODO\"\n  );\n}\n\n/** Get enum key from value */\nexport function getPriorityKey(value: Priority): string {\n  return (\n    Object.keys(PriorityEnum).find(\n      (key) => PriorityEnum[key as keyof typeof PriorityEnum] === value\n    ) || \"MEDIUM\"\n  );\n}\n\n/**\n * User model representing authenticated users in the system.\n */\nexport interface User {\n  id: string;\n  email: string;\n  name: string;\n  avatarUrl?: string;\n  createdAt: string;\n  updatedAt: string;\n}\n\n/**\n * Task model representing a work item in the system.\n */\nexport interface Task {\n  id: string;\n  title: string;\n  description: string;\n  dueDate: string;\n  priority: Priority;\n  status: TaskStatus;\n  creatorId: string;\n  assignedToId: string | null;\n  creator?: User;\n  assignedTo?: User | null;\n  createdAt: string;\n  updatedAt: string;\n}\n\n/**\n * DTO for creating a new task.\n */\nexport interface CreateTaskDto {\n  title: string;\n  description: string;\n  dueDate: string;\n  priority: Priority;\n  status: TaskStatus;\n  assignedToId?: string | null;\n}\n\n/**\n * DTO for updating an existing task.\n */\nexport interface UpdateTaskDto {\n  title?: string;\n  description?: string;\n  dueDate?: string;\n  priority?: Priority;\n  status?: TaskStatus;\n  assignedToId?: string | null;\n}\n\n/**\n * In-app notification model for real-time updates.\n */\nexport interface Notification {\n  id: string;\n  type: \"task_assigned\" | \"task_updated\" | \"task_completed\" | \"mention\";\n  message: string;\n  taskId?: string;\n  read: boolean;\n  createdAt: string;\n}\n\n/**\n * Authentication credentials for login.\n */\nexport interface LoginCredentials {\n  email: string;\n  password: string;\n}\n\n/**\n * Registration data for new users.\n */\nexport interface RegisterData {\n  name: string;\n  email: string;\n  password: string;\n  confirmPassword?: string;\n}\n\n/**\n * API response wrapper for consistent error handling.\n */\nexport interface ApiResponse<T> {\n  data?: T;\n  error?: string;\n  message?: string;\n}\n\n/**\n * Filter options for task queries.\n */\nexport interface TaskFilters {\n  status?: TaskStatus | \"all\";\n  priority?: Priority | \"all\";\n  assignedToMe?: boolean;\n  createdByMe?: boolean;\n  overdue?: boolean;\n  search?: string;\n}\n\n/**\n * Sort options for task lists.\n */\nexport interface TaskSort {\n  field: \"dueDate\" | \"priority\" | \"status\" | \"createdAt\" | \"title\";\n  direction: \"asc\" | \"desc\";\n}\n\n/**\n * Dashboard statistics.\n */\nexport interface DashboardStats {\n  totalTasks: number;\n  completedTasks: number;\n  overdueTasks: number;\n  tasksAssignedToMe: number;\n  tasksCreatedByMe: number;\n  tasksByStatus: Record<TaskStatus, number>;\n  tasksByPriority: Record<Priority, number>;\n}\n\n/**\n * Socket event types for real-time communication.\n */\nexport type SocketEvent =\n  | \"task:created\"\n  | \"task:updated\"\n  | \"task:deleted\"\n  | \"task:assigned\"\n  | \"notification:new\"\n  | \"user:online\"\n  | \"user:offline\";\n"],"names":[],"mappings":"AAAA;;;CAGC,GAED,8BAA8B;;;;;;;;;;AAOvB,IAAA,AAAK,wCAAA;;;;;WAAA;;AAQL,IAAA,AAAK,sCAAA;;;;;WAAA;;AAQL,SAAS,iBAAiB,KAAiB;IAChD,OACE,OAAO,IAAI,CAAC,gBAAgB,IAAI,CAC9B,CAAC,MAAQ,cAAc,CAAC,IAAmC,KAAK,UAC7D;AAET;AAGO,SAAS,eAAe,KAAe;IAC5C,OACE,OAAO,IAAI,CAAC,cAAc,IAAI,CAC5B,CAAC,MAAQ,YAAY,CAAC,IAAiC,KAAK,UACzD;AAET"}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///home/chandan/Documents/task-manager/frontend/services/api.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/no-unused-vars */\nimport type {\n  Task,\n  User,\n  Notification,\n  CreateTaskDto,\n  UpdateTaskDto,\n  LoginCredentials,\n  RegisterData,\n  ApiResponse,\n  TaskFilters,\n  TaskSort,\n  DashboardStats,\n} from \"@/types\";\nimport {\n  TaskStatusEnum,\n  PriorityEnum,\n  getTaskStatusKey,\n  getPriorityKey,\n} from \"@/types\";\n\n/**\n * API service layer for backend communication.\n * Currently uses mock data - replace implementations with actual API calls.\n *\n * @example\n * // When connecting to backend, replace:\n * // return mockTasks;\n * // with:\n * // const response = await fetch(`${API_BASE_URL}/tasks`);\n * // return response.json();\n */\n\n// Configure your backend URL here when connecting\nconst API_BASE_URL =\n  process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8080/api\";\n\n/** Create headers for API requests */\nconst createHeaders = (): HeadersInit => {\n  return {\n    \"Content-Type\": \"application/json\",\n  };\n};\n\n// ============================================\n// AUTH SERVICE\n// ============================================\n\nexport const authService = {\n  /**\n   * Authenticate user with email and password.\n   * Backend: POST /api/auth/login\n   */\n  async login(\n    credentials: LoginCredentials\n  ): Promise<ApiResponse<{ user: User; token: string }>> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/auth/login`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\", // Include cookies in request\n        body: JSON.stringify(credentials),\n      });\n      console.log(response);\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        return { error: result.message || \"Login failed\" };\n      }\n\n      const backendUser = result.data.user;\n      return {\n        data: {\n          user: {\n            ...backendUser,\n            id: String(backendUser.id),\n            avatarUrl: `https://api.dicebear.com/7.x/avataaars/svg?seed=${backendUser.name}`,\n          },\n          token: result.data.token, // Get token from response\n        },\n      };\n    } catch (_error) {\n      return { error: \"Network error. Please try again.\" };\n    }\n  },\n\n  /**\n   * Register a new user account.\n   * Backend: POST /api/auth/register\n   */\n  async register(\n    data: RegisterData\n  ): Promise<ApiResponse<{ user: User; token: string }>> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/auth/register`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\", // Include cookies in request\n        body: JSON.stringify({\n          name: data.name,\n          email: data.email,\n          password: data.password,\n        }),\n      });\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        return { error: result.message || \"Registration failed\" };\n      }\n\n      const backendUser = result.data.user;\n      return {\n        data: {\n          user: {\n            ...backendUser,\n            id: String(backendUser.id),\n            avatarUrl: `https://api.dicebear.com/7.x/avataaars/svg?seed=${backendUser.name}`,\n          },\n          token: result.data.token, // Get token from response\n        },\n      };\n    } catch (_error) {\n      return { error: \"Network error. Please try again.\" };\n    }\n  },\n\n  /**\n   * Get current authenticated user.\n   * Backend: GET /api/auth/me\n   */\n  async getCurrentUser(): Promise<ApiResponse<User>> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/auth/me`, {\n        headers: createHeaders(),\n        credentials: \"include\", // Include cookies in request\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        return { error: error.message || \"Failed to fetch user data\" };\n      }\n\n      const result = await response.json();\n      const backendUser = result.data.user;\n      const user: User = {\n        ...backendUser,\n        id: String(backendUser.id),\n        avatarUrl: `https://api.dicebear.com/7.x/avataaars/svg?seed=${backendUser.name}`,\n      };\n      return { data: user };\n    } catch (_error) {\n      return { error: \"Failed to fetch user data\" };\n    }\n  },\n\n  /**\n   * Logout current user.\n   * Backend: POST /api/auth/logout\n   */\n  async logout(): Promise<ApiResponse<void>> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/auth/logout`, {\n        method: \"POST\",\n        headers: createHeaders(),\n        credentials: \"include\", // Include cookies in request\n      });\n\n      if (!response.ok) {\n        return { error: \"Logout failed\" };\n      }\n\n      return { message: \"Logged out successfully\" };\n    } catch (_error) {\n      return { error: \"Logout failed\" };\n    }\n  },\n\n  /**\n   * Update user profile.\n   * Backend: PATCH /api/users/:id\n   */\n  async updateProfile(\n    userId: string,\n    data: Partial<User>\n  ): Promise<ApiResponse<User>> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/users/${userId}`, {\n        method: \"PATCH\",\n        headers: createHeaders(),\n        credentials: \"include\",\n        body: JSON.stringify(data),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        return { error: error.message || \"Failed to update profile\" };\n      }\n\n      const result = await response.json();\n      const backendUser = result.data.user;\n      const user: User = {\n        ...backendUser,\n        id: String(backendUser.id),\n        avatarUrl: `https://api.dicebear.com/7.x/avataaars/svg?seed=${backendUser.name}`,\n      };\n      return { data: user };\n    } catch (_error) {\n      return { error: \"Failed to update profile\" };\n    }\n  },\n\n  /**\n   * Change user password.\n   * Backend: PUT /api/auth/change-password\n   */\n  async changePassword(data: {\n    currentPassword: string;\n    newPassword: string;\n  }): Promise<ApiResponse<void>> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/auth/change-password`, {\n        method: \"PUT\",\n        headers: createHeaders(),\n        credentials: \"include\",\n        body: JSON.stringify(data),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        return { error: error.message || \"Failed to change password\" };\n      }\n\n      return { message: \"Password changed successfully\" };\n    } catch (_error) {\n      return { error: \"Failed to change password\" };\n    }\n  },\n};\n\n// ============================================\n// TASK SERVICE\n// ============================================\n\nexport const taskService = {\n  /**\n   * Get all tasks with optional filters and sorting.\n   * Backend: GET /api/tasks\n   */\n  async getTasks(\n    filters?: TaskFilters,\n    sort?: TaskSort\n  ): Promise<ApiResponse<Task[]>> {\n    try {\n      const params = new URLSearchParams();\n\n      // Add filters as query params (convert to backend format using enum keys)\n      if (filters) {\n        if (filters.status && filters.status !== \"all\") {\n          params.append(\"status\", getTaskStatusKey(filters.status));\n        }\n        if (filters.priority && filters.priority !== \"all\") {\n          params.append(\"priority\", getPriorityKey(filters.priority));\n        }\n        if (filters.assignedToMe) {\n          params.append(\"assignedToMe\", \"true\");\n        }\n        if (filters.createdByMe) {\n          params.append(\"createdByMe\", \"true\");\n        }\n        if (filters.overdue) {\n          params.append(\"overdue\", \"true\");\n        }\n      }\n\n      // Add sorting\n      if (sort) {\n        params.append(\"sortBy\", sort.field);\n        params.append(\"sortOrder\", sort.direction);\n      }\n\n      const url = `${API_BASE_URL}/tasks${\n        params.toString() ? `?${params.toString()}` : \"\"\n      }`;\n      const response = await fetch(url, {\n        headers: createHeaders(),\n        credentials: \"include\",\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        return { error: error.message || \"Failed to fetch tasks\" };\n      }\n\n      const result = await response.json();\n      const tasks = result.data.tasks.map((task: any) => ({\n        ...task,\n        id: String(task.id),\n        status:\n          TaskStatusEnum[task.status as keyof typeof TaskStatusEnum] ||\n          task.status,\n        priority:\n          PriorityEnum[task.priority as keyof typeof PriorityEnum] ||\n          task.priority,\n        creatorId: task.creatorId ? String(task.creatorId) : undefined,\n        assignedToId: task.assignedToId ? String(task.assignedToId) : null,\n        creator: task.creator\n          ? { ...task.creator, id: String(task.creator.id) }\n          : undefined,\n        assignedTo: task.assignedTo\n          ? { ...task.assignedTo, id: String(task.assignedTo.id) }\n          : null,\n      }));\n      return { data: tasks };\n    } catch (_error) {\n      return { error: \"Failed to fetch tasks\" };\n    }\n  },\n\n  /**\n   * Get a single task by ID.\n   * Backend: GET /api/tasks/:id\n   */\n  async getTask(id: string): Promise<ApiResponse<Task>> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/tasks/${id}`, {\n        headers: createHeaders(),\n        credentials: \"include\",\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        return { error: error.message || \"Task not found\" };\n      }\n\n      const result = await response.json();\n      const backendTask = result.data.task;\n      const task: Task = {\n        ...backendTask,\n        id: String(backendTask.id),\n        status:\n          TaskStatusEnum[backendTask.status as keyof typeof TaskStatusEnum] ||\n          backendTask.status,\n        priority:\n          PriorityEnum[backendTask.priority as keyof typeof PriorityEnum] ||\n          backendTask.priority,\n        creatorId: backendTask.creatorId ? String(backendTask.creatorId) : \"\",\n        assignedToId: backendTask.assignedToId\n          ? String(backendTask.assignedToId)\n          : null,\n      };\n      return { data: task };\n    } catch (_error) {\n      return { error: \"Failed to fetch task\" };\n    }\n  },\n\n  /**\n   * Create a new task.\n   * Backend: POST /api/tasks\n   */\n  async createTask(data: CreateTaskDto): Promise<ApiResponse<Task>> {\n    try {\n      // Convert frontend format to backend format\n      const backendData = {\n        title: data.title,\n        description: data.description,\n        dueDate: data.dueDate,\n        status: getTaskStatusKey(data.status),\n        priority: getPriorityKey(data.priority),\n        assignedToId: data.assignedToId\n          ? parseInt(data.assignedToId)\n          : undefined,\n      };\n      const response = await fetch(`${API_BASE_URL}/tasks`, {\n        method: \"POST\",\n        headers: createHeaders(),\n        credentials: \"include\",\n        body: JSON.stringify(backendData),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        return { error: error.message || \"Failed to create task\" };\n      }\n\n      const result = await response.json();\n      const backendTask = result.data.task;\n      const task: Task = {\n        ...backendTask,\n        id: String(backendTask.id),\n        status:\n          TaskStatusEnum[backendTask.status as keyof typeof TaskStatusEnum] ||\n          backendTask.status,\n        priority:\n          PriorityEnum[backendTask.priority as keyof typeof PriorityEnum] ||\n          backendTask.priority,\n        creatorId: String(backendTask.creatorId),\n        assignedToId: backendTask.assignedToId\n          ? String(backendTask.assignedToId)\n          : null,\n      };\n      return { data: task };\n    } catch (_error) {\n      return { error: \"Failed to create task\" };\n    }\n  },\n\n  /**\n   * Update an existing task.\n   * Backend: PATCH /api/tasks/:id\n   */\n  async updateTask(\n    id: string,\n    data: UpdateTaskDto\n  ): Promise<ApiResponse<Task>> {\n    try {\n      // Convert frontend format to backend format\n      const backendData: any = {};\n      if (data.title !== undefined) backendData.title = data.title;\n      if (data.description !== undefined)\n        backendData.description = data.description;\n      if (data.dueDate !== undefined) backendData.dueDate = data.dueDate;\n      if (data.status !== undefined)\n        backendData.status = getTaskStatusKey(data.status);\n      if (data.priority !== undefined)\n        backendData.priority = getPriorityKey(data.priority);\n      if (data.assignedToId !== undefined) {\n        backendData.assignedToId = data.assignedToId\n          ? parseInt(data.assignedToId)\n          : null;\n      }\n\n      const response = await fetch(`${API_BASE_URL}/tasks/${id}`, {\n        method: \"PATCH\",\n        headers: createHeaders(),\n        credentials: \"include\",\n        body: JSON.stringify(backendData),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        return { error: error.message || \"Failed to update task\" };\n      }\n\n      const result = await response.json();\n      const backendTask = result.data.task;\n      const task: Task = {\n        ...backendTask,\n        id: String(backendTask.id),\n        status:\n          TaskStatusEnum[backendTask.status as keyof typeof TaskStatusEnum] ||\n          backendTask.status,\n        priority:\n          PriorityEnum[backendTask.priority as keyof typeof PriorityEnum] ||\n          backendTask.priority,\n        creatorId: String(backendTask.creatorId),\n        assignedToId: backendTask.assignedToId\n          ? String(backendTask.assignedToId)\n          : null,\n      };\n      return { data: task };\n    } catch (_error) {\n      return { error: \"Failed to update task\" };\n    }\n  },\n\n  /**\n   * Delete a task.\n   * Backend: DELETE /api/tasks/:id\n   */\n  async deleteTask(id: string): Promise<ApiResponse<void>> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/tasks/${id}`, {\n        method: \"DELETE\",\n        headers: createHeaders(),\n        credentials: \"include\",\n      });\n\n      if (!response.ok) {\n        const result = await response.json();\n        return { error: result.message || \"Failed to delete task\" };\n      }\n\n      return { message: \"Task deleted successfully\" };\n    } catch (_error) {\n      return { error: \"Failed to delete task\" };\n    }\n  },\n};\n\n// ============================================\n// USER SERVICE\n// ============================================\n\nexport const userService = {\n  /**\n   * Get all users (for task assignment dropdown).\n   * Backend: GET /api/users\n   */\n  async getUsers(): Promise<ApiResponse<User[]>> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/users`, {\n        headers: createHeaders(),\n        credentials: \"include\",\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        return { error: error.message || \"Failed to fetch users\" };\n      }\n\n      const result = await response.json();\n      const users = result.data.users.map((user: any) => ({\n        ...user,\n        id: String(user.id),\n        avatarUrl: `https://api.dicebear.com/7.x/avataaars/svg?seed=${user.name}`,\n      }));\n      return { data: users };\n    } catch (_error) {\n      return { error: \"Failed to fetch users\" };\n    }\n  },\n\n  /**\n   * Get user by ID.\n   * Backend: GET /api/users/:id\n   */\n  async getUser(id: string): Promise<ApiResponse<User>> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/users/${id}`, {\n        headers: createHeaders(),\n        credentials: \"include\",\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        return { error: error.message || \"User not found\" };\n      }\n\n      const result = await response.json();\n      const backendUser = result.data.user;\n      const user: User = {\n        ...backendUser,\n        id: String(backendUser.id),\n        avatarUrl: `https://api.dicebear.com/7.x/avataaars/svg?seed=${backendUser.name}`,\n      };\n      return { data: user };\n    } catch (_error) {\n      return { error: \"Failed to fetch user\" };\n    }\n  },\n\n  /**\n   * Update user.\n   * Backend: PATCH /api/users/:id\n   */\n  async updateUser(\n    id: string,\n    data: Partial<User>\n  ): Promise<ApiResponse<User>> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/users/${id}`, {\n        method: \"PATCH\",\n        headers: createHeaders(),\n        credentials: \"include\",\n        body: JSON.stringify(data),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        return { error: error.message || \"Failed to update user\" };\n      }\n\n      const result = await response.json();\n      const backendUser = result.data.user;\n      const user: User = {\n        ...backendUser,\n        id: String(backendUser.id),\n        avatarUrl: `https://api.dicebear.com/7.x/avataaars/svg?seed=${backendUser.name}`,\n      };\n      return { data: user };\n    } catch (_error) {\n      return { error: \"Failed to update user\" };\n    }\n  },\n\n  /**\n   * Delete user.\n   * Backend: DELETE /api/users/:id\n   */\n  async deleteUser(id: string): Promise<ApiResponse<void>> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/users/${id}`, {\n        method: \"DELETE\",\n        headers: createHeaders(),\n        credentials: \"include\",\n      });\n\n      if (!response.ok) {\n        const result = await response.json();\n        return { error: result.message || \"Failed to delete user\" };\n      }\n\n      return { message: \"User deleted successfully\" };\n    } catch (_error) {\n      return { error: \"Failed to delete user\" };\n    }\n  },\n};\n\n// ============================================\n// NOTIFICATION SERVICE\n// ============================================\n\nexport const notificationService = {\n  /**\n   * Get all notifications for current user.\n   * Backend: GET /api/notifications\n   */\n  async getNotifications(): Promise<ApiResponse<Notification[]>> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/notifications`, {\n        headers: createHeaders(),\n        credentials: \"include\",\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        return { error: error.message || \"Failed to fetch notifications\" };\n      }\n\n      const result = await response.json();\n      const notifications = result.data.notifications.map((n: any) => ({\n        ...n,\n        id: String(n.id),\n        userId: n.userId ? String(n.userId) : undefined,\n        taskId: n.taskId ? String(n.taskId) : undefined,\n        read: n.isRead,\n      }));\n      return { data: notifications };\n    } catch (_error) {\n      return { error: \"Failed to fetch notifications\" };\n    }\n  },\n\n  /**\n   * Get unread notification count.\n   * Backend: GET /api/notifications/unread-count\n   */\n  async getUnreadCount(): Promise<ApiResponse<{ count: number }>> {\n    try {\n      const response = await fetch(\n        `${API_BASE_URL}/notifications/unread-count`,\n        {\n          headers: createHeaders(),\n          credentials: \"include\",\n        }\n      );\n\n      if (!response.ok) {\n        const error = await response.json();\n        return { error: error.message || \"Failed to fetch unread count\" };\n      }\n\n      const result = await response.json();\n      return { data: result.data };\n    } catch (_error) {\n      return { error: \"Failed to fetch unread count\" };\n    }\n  },\n\n  /**\n   * Get notification by ID.\n   * Backend: GET /api/notifications/:id\n   */\n  async getNotification(id: string): Promise<ApiResponse<Notification>> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/notifications/${id}`, {\n        headers: createHeaders(),\n        credentials: \"include\",\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        return { error: error.message || \"Notification not found\" };\n      }\n\n      const result = await response.json();\n      const n = result.data.notification;\n      const notification: Notification = {\n        ...n,\n        id: String(n.id),\n        userId: n.userId ? String(n.userId) : undefined,\n        taskId: n.taskId ? String(n.taskId) : undefined,\n        read: n.isRead,\n      } as Notification;\n      return { data: notification };\n    } catch (_error) {\n      return { error: \"Failed to fetch notification\" };\n    }\n  },\n\n  /**\n   * Mark notification as read.\n   * Backend: PATCH /api/notifications/:id/read\n   */\n  async markAsRead(id: string): Promise<ApiResponse<Notification>> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/notifications/${id}/read`, {\n        method: \"PATCH\",\n        headers: createHeaders(),\n        credentials: \"include\",\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        return { error: error.message || \"Failed to mark as read\" };\n      }\n\n      const result = await response.json();\n      const n = result.data.notification;\n      const notification: Notification = {\n        ...n,\n        id: String(n.id),\n        userId: n.userId ? String(n.userId) : undefined,\n        taskId: n.taskId ? String(n.taskId) : undefined,\n        read: n.isRead,\n      } as Notification;\n      return { data: notification };\n    } catch (_error) {\n      return { error: \"Failed to mark notification as read\" };\n    }\n  },\n\n  /**\n   * Mark all notifications as read.\n   * Backend: PATCH /api/notifications/mark-all-read\n   */\n  async markAllAsRead(): Promise<ApiResponse<void>> {\n    try {\n      const response = await fetch(\n        `${API_BASE_URL}/notifications/mark-all-read`,\n        {\n          method: \"PATCH\",\n          headers: createHeaders(),\n          credentials: \"include\",\n        }\n      );\n\n      if (!response.ok) {\n        const result = await response.json();\n        return { error: result.message || \"Failed to mark all as read\" };\n      }\n\n      return { message: \"All notifications marked as read\" };\n    } catch (_error) {\n      return { error: \"Failed to mark all notifications as read\" };\n    }\n  },\n\n  /**\n   * Delete notification.\n   * Backend: DELETE /api/notifications/:id\n   */\n  async deleteNotification(id: string): Promise<ApiResponse<void>> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/notifications/${id}`, {\n        method: \"DELETE\",\n        headers: createHeaders(),\n        credentials: \"include\",\n      });\n\n      if (!response.ok) {\n        const result = await response.json();\n        return { error: result.message || \"Failed to delete notification\" };\n      }\n\n      return { message: \"Notification deleted successfully\" };\n    } catch (_error) {\n      return { error: \"Failed to delete notification\" };\n    }\n  },\n};\n\n// ============================================\n// DASHBOARD SERVICE\n// ============================================\n\nexport const dashboardService = {\n  /**\n   * Get dashboard statistics.\n   * Backend: GET /api/tasks/stats\n   */\n  async getStats(): Promise<ApiResponse<DashboardStats>> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/tasks/stats`, {\n        headers: createHeaders(),\n        credentials: \"include\",\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        return { error: error.message || \"Failed to fetch stats\" };\n      }\n\n      const result = await response.json();\n      return { data: result.data.stats };\n    } catch (_error) {\n      return { error: \"Failed to fetch dashboard stats\" };\n    }\n  },\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 912, "column": 0}, "map": {"version":3,"sources":["file:///home/chandan/Documents/task-manager/frontend/context/AuthContext.tsx"],"sourcesContent":["\"use client\";\n\nimport React, {\n  createContext,\n  useContext,\n  useState,\n  useEffect,\n  useCallback,\n} from \"react\";\nimport type { User, LoginCredentials, RegisterData } from \"@/types\";\nimport { authService } from \"@/services/api\";\nimport { toast } from \"sonner\";\n\ninterface AuthContextType {\n  user: User | null;\n  isLoading: boolean;\n  isAuthenticated: boolean;\n  token: string | null;\n  login: (credentials: LoginCredentials) => Promise<boolean>;\n  register: (data: RegisterData) => Promise<boolean>;\n  logout: () => Promise<void>;\n  updateProfile: (data: Partial<User>) => Promise<boolean>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [token, setToken] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Check for existing session on mount\n  useEffect(() => {\n    const checkAuth = async () => {\n      // Try to get current user - cookie will be sent automatically\n      const response = await authService.getCurrentUser();\n      if (response.data) {\n        setUser(response.data);\n      }\n      setIsLoading(false);\n    };\n\n    checkAuth();\n  }, []);\n\n  const login = useCallback(\n    async (credentials: LoginCredentials): Promise<boolean> => {\n      setIsLoading(true);\n      try {\n        const response = await authService.login(credentials);\n        console.log(response);\n\n        if (response.error) {\n          toast.error(\"Login failed\", {\n            description: response.error,\n          });\n          return false;\n        }\n\n        if (response.data) {\n          setUser(response.data.user);\n          setToken(response.data.token); // Store token for Socket.io\n          toast.success(\"Welcome back!\", {\n            description: `Logged in as ${response.data.user.name}`,\n          });\n          return true;\n        }\n\n        return false;\n      } finally {\n        setIsLoading(false);\n      }\n    },\n    []\n  );\n\n  const register = useCallback(async (data: RegisterData): Promise<boolean> => {\n    setIsLoading(true);\n    try {\n      const response = await authService.register(data);\n\n      if (response.error) {\n        toast.error(\"Registration failed\", {\n          description: response.error,\n        });\n        return false;\n      }\n\n      if (response.data) {\n        setUser(response.data.user);\n        setToken(response.data.token); // Store token for Socket.io\n        toast.success(\"Account created!\", {\n          description: \"Welcome to TaskFlow\",\n        });\n        return true;\n      }\n\n      return false;\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const logout = useCallback(async () => {\n    await authService.logout();\n    setUser(null);\n    setToken(null); // Clear token\n    toast.success(\"Logged out\", {\n      description: \"See you next time!\",\n    });\n  }, []);\n\n  const updateProfile = useCallback(\n    async (data: Partial<User>): Promise<boolean> => {\n      if (!user) return false;\n\n      const response = await authService.updateProfile(user.id, data);\n\n      if (response.error) {\n        toast.error(\"Update failed\", {\n          description: response.error,\n        });\n        return false;\n      }\n\n      if (response.data) {\n        setUser(response.data);\n        toast.success(\"Profile updated\", {\n          description: \"Your changes have been saved\",\n        });\n        return true;\n      }\n\n      return false;\n    },\n    [user]\n  );\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        token,\n        isLoading,\n        isAuthenticated: !!user,\n        login,\n        register,\n        logout,\n        updateProfile,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1138, "column": 0}, "map": {"version":3,"sources":["file:///home/chandan/Documents/task-manager/frontend/lib/socket.ts"],"sourcesContent":["import { io, Socket } from \"socket.io-client\";\n\nlet socket: Socket | null = null;\n\n/**\n * Initialize Socket.io connection with authentication token\n */\nexport const initializeSocket = (token: string): Socket => {\n  if (socket?.connected) {\n    return socket;\n  }\n\n  const SOCKET_URL =\n    process.env.NEXT_PUBLIC_API_URL?.replace(\"/api\", \"\") ||\n    \"http://localhost:8080\";\n\n  socket = io(SOCKET_URL, {\n    auth: {\n      token,\n    },\n    autoConnect: true,\n    reconnection: true,\n    reconnectionDelay: 1000,\n    reconnectionDelayMax: 5000,\n    reconnectionAttempts: 5,\n  });\n\n  // Connection event handlers\n  socket.on(\"connect\", () => {\n    console.log(\" Socket.io connected\");\n  });\n\n  socket.on(\"disconnect\", (reason) => {\n    console.log(\" Socket.io disconnected:\", reason);\n  });\n\n  socket.on(\"connect_error\", (error) => {\n    console.error(\"Socket.io connection error:\", error.message);\n  });\n\n  socket.on(\"error\", (error) => {\n    console.error(\"Socket.io error:\", error);\n  });\n\n  return socket;\n};\n\n/**\n * Get the current socket instance\n */\nexport const getSocket = (): Socket | null => {\n  return socket;\n};\n\n/**\n * Disconnect socket connection\n */\nexport const disconnectSocket = (): void => {\n  if (socket) {\n    socket.disconnect();\n    socket = null;\n    console.log(\"Socket.io disconnected manually\");\n  }\n};\n\n/**\n * Socket event listeners setup\n */\nexport const socketEvents = {\n  // Task events\n  onTaskCreated: (callback: (data: { task: unknown }) => void) => {\n    socket?.on(\"task:created\", callback);\n  },\n\n  onTaskUpdated: (\n    callback: (data: { taskId: number; task: unknown }) => void\n  ) => {\n    socket?.on(\"task:updated\", callback);\n  },\n\n  onTaskDeleted: (callback: (data: { taskId: number }) => void) => {\n    socket?.on(\"task:deleted\", callback);\n  },\n\n  onTaskAssigned: (callback: (data: { task: unknown }) => void) => {\n    socket?.on(\"task:assigned\", callback);\n  },\n\n  // Notification events\n  onNotificationCreated: (\n    callback: (data: { notification: unknown }) => void\n  ) => {\n    socket?.on(\"notification:created\", callback);\n  },\n\n  // Cleanup\n  off: (event: string) => {\n    socket?.off(event);\n  },\n\n  offAll: () => {\n    socket?.removeAllListeners();\n  },\n};\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEA,IAAI,SAAwB;AAKrB,MAAM,mBAAmB,CAAC;IAC/B,IAAI,QAAQ,WAAW;QACrB,OAAO;IACT;IAEA,MAAM,aACJ,+DAAiC,QAAQ,QAAQ,OACjD;IAEF,SAAS,IAAA,8LAAE,EAAC,YAAY;QACtB,MAAM;YACJ;QACF;QACA,aAAa;QACb,cAAc;QACd,mBAAmB;QACnB,sBAAsB;QACtB,sBAAsB;IACxB;IAEA,4BAA4B;IAC5B,OAAO,EAAE,CAAC,WAAW;QACnB,QAAQ,GAAG,CAAC;IACd;IAEA,OAAO,EAAE,CAAC,cAAc,CAAC;QACvB,QAAQ,GAAG,CAAC,6BAA6B;IAC3C;IAEA,OAAO,EAAE,CAAC,iBAAiB,CAAC;QAC1B,QAAQ,KAAK,CAAC,+BAA+B,MAAM,OAAO;IAC5D;IAEA,OAAO,EAAE,CAAC,SAAS,CAAC;QAClB,QAAQ,KAAK,CAAC,oBAAoB;IACpC;IAEA,OAAO;AACT;AAKO,MAAM,YAAY;IACvB,OAAO;AACT;AAKO,MAAM,mBAAmB;IAC9B,IAAI,QAAQ;QACV,OAAO,UAAU;QACjB,SAAS;QACT,QAAQ,GAAG,CAAC;IACd;AACF;AAKO,MAAM,eAAe;IAC1B,cAAc;IACd,eAAe,CAAC;QACd,QAAQ,GAAG,gBAAgB;IAC7B;IAEA,eAAe,CACb;QAEA,QAAQ,GAAG,gBAAgB;IAC7B;IAEA,eAAe,CAAC;QACd,QAAQ,GAAG,gBAAgB;IAC7B;IAEA,gBAAgB,CAAC;QACf,QAAQ,GAAG,iBAAiB;IAC9B;IAEA,sBAAsB;IACtB,uBAAuB,CACrB;QAEA,QAAQ,GAAG,wBAAwB;IACrC;IAEA,UAAU;IACV,KAAK,CAAC;QACJ,QAAQ,IAAI;IACd;IAEA,QAAQ;QACN,QAAQ;IACV;AACF"}},
    {"offset": {"line": 1221, "column": 0}, "map": {"version":3,"sources":["file:///home/chandan/Documents/task-manager/frontend/context/SocketContext.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\nimport { Socket } from \"socket.io-client\";\nimport { initializeSocket, disconnectSocket } from \"@/lib/socket\";\n\ninterface SocketContextType {\n  socket: Socket | null;\n  isConnected: boolean;\n}\n\nconst SocketContext = createContext<SocketContextType>({\n  socket: null,\n  isConnected: false,\n});\n\nexport const useSocket = () => {\n  const context = useContext(SocketContext);\n  if (!context) {\n    throw new Error(\"useSocket must be used within a SocketProvider\");\n  }\n  return context;\n};\n\ninterface SocketProviderProps {\n  children: React.ReactNode;\n  token?: string;\n}\n\nexport function SocketProvider({ children, token }: SocketProviderProps) {\n  const [state, setState] = useState<SocketContextType>({\n    socket: null,\n    isConnected: false,\n  });\n\n  useEffect(() => {\n    // Only initialize socket if we have a token (user is authenticated)\n    if (!token) {\n      disconnectSocket();\n      return;\n    }\n\n    const socketInstance = initializeSocket(token);\n\n    // Listen to connection status\n    const handleConnect = () => {\n      setState({ socket: socketInstance, isConnected: true });\n    };\n\n    const handleDisconnect = () => {\n      setState({ socket: socketInstance, isConnected: false });\n    };\n\n    socketInstance.on(\"connect\", handleConnect);\n    socketInstance.on(\"disconnect\", handleDisconnect);\n\n    // Cleanup on unmount\n    return () => {\n      socketInstance.off(\"connect\", handleConnect);\n      socketInstance.off(\"disconnect\", handleDisconnect);\n      disconnectSocket();\n    };\n  }, [token]);\n\n  return (\n    <SocketContext.Provider value={state}>{children}</SocketContext.Provider>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAEA;AAJA;;;;AAWA,MAAM,8BAAgB,IAAA,sNAAa,EAAoB;IACrD,QAAQ;IACR,aAAa;AACf;AAEO,MAAM,YAAY;IACvB,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAOO,SAAS,eAAe,EAAE,QAAQ,EAAE,KAAK,EAAuB;IACrE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAoB;QACpD,QAAQ;QACR,aAAa;IACf;IAEA,IAAA,kNAAS,EAAC;QACR,oEAAoE;QACpE,IAAI,CAAC,OAAO;YACV,IAAA,iIAAgB;YAChB;QACF;QAEA,MAAM,iBAAiB,IAAA,iIAAgB,EAAC;QAExC,8BAA8B;QAC9B,MAAM,gBAAgB;YACpB,SAAS;gBAAE,QAAQ;gBAAgB,aAAa;YAAK;QACvD;QAEA,MAAM,mBAAmB;YACvB,SAAS;gBAAE,QAAQ;gBAAgB,aAAa;YAAM;QACxD;QAEA,eAAe,EAAE,CAAC,WAAW;QAC7B,eAAe,EAAE,CAAC,cAAc;QAEhC,qBAAqB;QACrB,OAAO;YACL,eAAe,GAAG,CAAC,WAAW;YAC9B,eAAe,GAAG,CAAC,cAAc;YACjC,IAAA,iIAAgB;QAClB;IACF,GAAG;QAAC;KAAM;IAEV,qBACE,8OAAC,cAAc,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAE3C"}},
    {"offset": {"line": 1294, "column": 0}, "map": {"version":3,"sources":["file:///home/chandan/Documents/task-manager/frontend/app/providers.tsx"],"sourcesContent":["\"use client\";\n\nimport { Toaster as Sonner } from \"@/components/ui/sonner\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { AuthProvider, useAuth } from \"@/context/AuthContext\";\nimport { SocketProvider } from \"@/context/SocketContext\";\nimport { ThemeProvider } from \"next-themes\";\nimport { useState } from \"react\";\n\nfunction SocketWrapper({ children }: { children: React.ReactNode }) {\n  const { token } = useAuth();\n  return <SocketProvider token={token || undefined}>{children}</SocketProvider>;\n}\n\nexport function Providers({ children }: { children: React.ReactNode }) {\n  const [queryClient] = useState(\n    () =>\n      new QueryClient({\n        defaultOptions: {\n          queries: {\n            refetchOnWindowFocus: false,\n            retry: 1,\n          },\n        },\n      })\n  );\n\n  return (\n    <ThemeProvider attribute=\"class\" defaultTheme=\"system\" enableSystem>\n      <QueryClientProvider client={queryClient}>\n        <AuthProvider>\n          <SocketWrapper>\n            <TooltipProvider>\n              {children}\n              <Sonner />\n            </TooltipProvider>\n          </SocketWrapper>\n        </AuthProvider>\n      </QueryClientProvider>\n    </ThemeProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAUA,SAAS,cAAc,EAAE,QAAQ,EAAiC;IAChE,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,kIAAO;IACzB,qBAAO,8OAAC,2IAAc;QAAC,OAAO,SAAS;kBAAY;;;;;;AACrD;AAEO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,MAAM,CAAC,YAAY,GAAG,IAAA,iNAAQ,EAC5B,IACE,IAAI,4LAAW,CAAC;YACd,gBAAgB;gBACd,SAAS;oBACP,sBAAsB;oBACtB,OAAO;gBACT;YACF;QACF;IAGJ,qBACE,8OAAC,iKAAa;QAAC,WAAU;QAAQ,cAAa;QAAS,YAAY;kBACjE,cAAA,8OAAC,6MAAmB;YAAC,QAAQ;sBAC3B,cAAA,8OAAC,uIAAY;0BACX,cAAA,8OAAC;8BACC,cAAA,8OAAC,+IAAe;;4BACb;0CACD,8OAAC,sIAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOrB"}}]
}